(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))n(s);new MutationObserver(s=>{for(const r of s)if(r.type==="childList")for(const i of r.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&n(i)}).observe(document,{childList:!0,subtree:!0});function e(s){const r={};return s.integrity&&(r.integrity=s.integrity),s.referrerPolicy&&(r.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?r.credentials="include":s.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function n(s){if(s.ep)return;s.ep=!0;const r=e(s);fetch(s.href,r)}})();class P{constructor(t,e,n){this.x=t,this.y=e,this.color=n}inbounds(t,e,n){return Array.isArray(t)&&n>=0&&n<t.length&&Array.isArray(t[n])&&e>=0&&e<t[n].length}move_to(t,e,n){this.inbounds(t,e,n)&&t[n][e]===null&&(t[this.y][this.x]=null,this.x=e,this.y=n,t[n][e]=this)}}class R extends P{constructor(t,e,n){super(t,e,n)}}class S extends R{constructor(t,e,n){super(t,e,n)}update(t){if(this.inbounds(t,this.x,this.y+1)&&t[this.y+1][this.x]===null)this.move_to(t,this.x,this.y+1);else{const e=[];if(this.inbounds(t,this.x-1,this.y+1)&&t[this.y+1][this.x-1]===null&&e.push([-1,1]),this.inbounds(t,this.x+1,this.y+1)&&t[this.y+1][this.x+1]===null&&e.push([1,1]),e.length>0){const[n,s]=e[Math.floor(Math.random()*e.length)];this.move_to(t,this.x+n,this.y+s)}}}}class C extends S{constructor(t,e){super(t,e,"goldenrod")}}let h=!1,l=null,f=null;const q=5,w=2;function N(o,t,e,n,s){o.addEventListener("mousedown",i=>{h=!0,l=v(i,o,t),x(l,e,n,t,s),f||(f=setInterval(()=>{h&&l&&x(l,e,n,t,s)},16))});function r(){h=!1,l=null,f&&(clearInterval(f),f=null)}o.addEventListener("mouseup",r),o.addEventListener("mouseleave",r),o.addEventListener("mousemove",i=>{h&&(l=v(i,o,t),x(l,e,n,t,s))})}function v(o,t,e){const n=t.getBoundingClientRect();return{x:Math.floor((o.clientX-n.left)/e),y:Math.floor((o.clientY-n.top)/e)}}function x(o,t,e,n,s){for(let r=0;r<q;r++){const i=Math.random()*2*Math.PI,g=Math.random()*w,y=Math.round(o.x+Math.cos(i)*g),m=Math.round(o.y+Math.sin(i)*g);y>=0&&y<t&&m>=0&&m<e&&s(y,m)}}const u=document.querySelector("canvas"),M=u.getContext("2d"),b=512,L=512,c=4;u.width=b;u.height=L;const d=L/c,p=b/c,a=Array.from({length:d},()=>Array(p).fill(null));function D(){M.clearRect(0,0,u.width,u.height);for(let o=0;o<d;o++)for(let t=0;t<p;t++){const e=a[o][t];e&&(M.fillStyle=e.color,M.fillRect(t*c,o*c,c,c))}}function A(){for(let o=d-1;o>=0;o--)for(let t=0;t<p;t++){const e=a[o][t];e&&typeof e.update=="function"&&e.update(a)}}function F(o,t){a[t][o]=new C(o,t)}N(u,c,p,d,F);function O(){A(),A(),D(),requestAnimationFrame(O)}O();
